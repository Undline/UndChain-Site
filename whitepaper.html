<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UndChain Whitepaper</title>
    <link rel="stylesheet" href="assets/styles.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/small_sheild_logo.png" sizes="32x32">
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <!-- Logo -->
        <a href="index.html" class="logo">
            <img src="assets/shield_logo.png" alt="UndChain Logo">
        </a>
        <!-- Navigation Links -->
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="whitepaper.html">Whitepaper</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        <!-- Hamburger Menu (only visible on mobile) -->
        <div class="hamburger-menu" onclick="toggleMenu()">
            <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" fill="#fff">
                <rect width="30" height="5" />
                <rect y="12" width="30" height="5" />
                <rect y="24" width="30" height="5" />
            </svg>
        </div>
    </nav>

    <!-- Whitepaper Content -->
    <div class="container" id="whitepaper-container">
        <!-- The Markdown will be rendered here -->
    </div>

    <!-- Footer -->
    <footer>
        <p>Connect with us</p>
        <ul>
            <li><a href="https://x.com/theundline" target="_blank">X</a></li>
            <li><a href="https://github.com/Undline/UndChain" target="_blank">GitHub</a></li>
            <li><a href="https://youtube.com/@undline_codes" target="_blank">YouTube</a></li>
        </ul>
    </footer>

    <!-- Include Marked.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- JavaScript to Fetch and Render Markdown -->
    <script>
        console.log('Marked.js loaded:', typeof marked);

        async function loadMarkdown() {
            try {
                // Fetch the markdown file
                const response = await fetch('assets/undchain-whitepaper.md'); // Adjust the path as needed
                if (!response.ok) {
                    throw new Error(`Failed to load markdown file: ${response.statusText}`);
                }
                const markdown = await response.text(); // Read the markdown content
                
                const container = document.getElementById('whitepaper-container');

                // Parse the markdown into HTML
                const htmlContent = marked.parse(markdown);
                container.innerHTML = htmlContent; // Insert the parsed HTML into the container
            } catch (error) {
                console.error('Error fetching the markdown file:', error);
                document.getElementById('whitepaper-container').innerHTML = '<p>Failed to load content. Please try again later.</p>';
            }
        }

        loadMarkdown();

        // JavaScript to toggle the menu
        function toggleMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
        }
    </script>
</body>
</html>
